function configureChatBubbleButton(e,t){let i=document.createElement("div");return i.setAttribute("id","chatbase-bubble-button"),i.style={position:"fixed",bottom:"20px",right:"left"===t?"unset":"20px",left:"left"===t?"20px":"unset",width:"50px",height:"50px",borderRadius:"25px",backgroundColor:e,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)",cursor:"pointer",zIndex:999999998,transition:"all .2s ease-in-out"},i}function configureChatMessageBubbles(){let e=document.createElement("div");return e.setAttribute("id","chatbase-message-bubbles"),e.style={position:"fixed",bottom:"80px",borderRadius:"10px",fontFamily:"sans-serif",fontSize:"16px",zIndex:999999997,cursor:"pointer",flexDirection:"column",gap:"50px",marginLeft:"20px",maxWidth:"70vw",display:"none"},e}function configureChatBubbleWindow(e,t){let i=document.createElement("div");return i.setAttribute("id","chatbase-bubble-window"),i.style={position:"fixed",flexDirection:"column",justifyContent:"space-between",bottom:"80px",right:"left"===t?"unset":"20px",left:"left"===t?"20px":"unset",width:"85vw",height:"70vh",boxShadow:"rgba(150, 150, 150, 0.2) 0px 10px 30px 0px, rgba(150, 150, 150, 0.2) 0px 0px 0px 1px",display:"none",borderRadius:"10px",zIndex:999999999,overflow:"hidden"},i.innerHTML=`<iframe src="https://filegpt.app/chatbot?collection=${e}" width="100%" height="100%" frameborder="0"></iframe>`,i}async function embedChatbaseChatbot(){if(window.filegptConfig?.embedSuccess)return;let e=document.currentScript.id||window.filegptConfig?.collectionId,t=await fetch(`https://www.chatbase.co/api/get-chatbot-styles?chatbotId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}),{styles:i,initialMessages:n}=await t.json(),o=i?.button_color||"black",a=configureChatBubbleButton(o,i?.align_chat_button),s=configureChatMessageBubbles(),l=configureChatBubbleWindow(e,i?.align_chat_button);document.body.appendChild(a),document.body.appendChild(s),document.body.appendChild(l),a.addEventListener("click",function(){l.style.display="flex",a.style.display="none",s.style.display="none"}),l.addEventListener("click",function(e){e.target===l&&(l.style.display="none",a.style.display="flex")}),window.chatbaseConfig.embedSuccess=!0}embedChatbaseChatbot();
